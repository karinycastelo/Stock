<div class="mdl-card ssc_card">
  
  <%= form_with(model: item, local: true) do |f| %>

    <% if item.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(item.errors.count, "error") %> prohibited this item from being saved:</h2>
        <ul>
          <% item.errors.full_messages.each do |message| %>
          <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="mdl-grid">
      <div class="mdl-cell mdl-cell--4-col">
        <div class="mdl-textfield mdl-js-textfield">
          <%= f.number_field :code, class: "mdl-textfield__input" %>
          <%= f.label :code, "Código", class: "mdl-textfield__label" %>
        </div>
      </div>
      <div class="mdl-cell mdl-cell--4-col">
        <div class="mdl-textfield mdl-js-textfield">
          <%= f.label :patrimony, "Patrimônio", class: "mdl-textfield__label" %>
          <%= f.number_field :patrimony, id: :item_patrimony, class: "mdl-textfield__input" %>
        </div>
      </div>
      <div class="mdl-cell mdl-cell--4-col">
        <div class="mdl-textfield mdl-js-textfield">
          <%= f.label :name, "Nome", class: "mdl-textfield__label" %>
          <%= f.text_field :name, id: :item_name, class: "mdl-textfield__input" %>
        </div>
      </div>
    </div>
      
    <div class="mdl-grid">
      <div class="mdl-cell mdl-cell--3-col">
        <div class="mdl-textfield mdl-js-textfield">
          <%= f.label :quantity, "Quantidade", class: "mdl-textfield__label" %>
          <%= f.number_field :quantity, class: "mdl-textfield__input" %>
        </div>
        </div>
      <div class="mdl-cell mdl-cell--9-col">
        <div class="mdl-textfield mdl-js-textfield">
          <%= f.label :description, "Descrição", class: "mdl-textfield__label" %>
          <%= f.text_field :description, class: "mdl-textfield__input" %>
        </div>
      </div>
    </div>

    <div class="mdl-grid">
      <div class="mdl-cell mdl-cell--4-col">
        <div class="mdl-textfield mdl-js-textfield getmdl-select">
        <%= f.text_field :type_id, id: :item_type_id, class: "mdl-textfield__input" %>
        <%= f.hidden_field  :item_type_id %>
        <label for="item_type_id" class="mdl-textfield__label">Tipo</label>
        <ul for="item_type_id" class="mdl-menu mdl-menu--bottom-left mdl-js-menu">
          <% Type.all.each do |type| %>
            <li class="mdl-menu__item"><%= type.description %></li>
          <% end %>
        </ul>
        </div>
      </div>
      <div class="mdl-cell mdl-cell--4-col">
        <div class="mdl-textfield mdl-js-textfield getmdl-select">
          <%= f.text_field :sector_id, id: :item_sector_id, class: "mdl-textfield__input" %>
          <%= f.hidden_field  :item_sector_id %>
          <label for="item_sector_id" class="mdl-textfield__label">Setor</label>
          <ul for="item_sector_id" class="mdl-menu mdl-menu--bottom-left mdl-js-menu">
            <% Sector.all.each do |sector| %>
              <li class="mdl-menu__item"><%= sector.name %></li>
            <% end %>
          </ul>
        </div>
      </div>
      <div class="mdl-cell mdl-cell--4-col">
        <div class ="mdl-textfield mdl-js-textfield getmdl-select">
          <%= f.text_field :user_id, id: :item_user_id, class: "mdl-textfield__input" %>
          <%= f.hidden_field  :item_user_id %>
          <label for="item_user_id" class="mdl-textfield__label">Responsável</label>
          <ul for="item_user_id" class="mdl-menu mdl-menu--bottom-left mdl-js-menu">
            <% User.all.where("role_id != 1").each do |user| %>
              <li class="mdl-menu__item"><%= user.name %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>

    <div class="mdl-grid">
      <div class="mdl-cell mdl-cell--4-col">
        <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="rent" name="rent">
          <input type="checkbox" id="rent" name="rent" class="mdl-checkbox__input">
          <span class="mdl-checkbox__label">Alugado?</span>
        </label>
      </div>
      <div class="mdl-cell mdl-cell--4-col">
        <div class ="mdl-textfield mdl-js-textfield getmdl-select">
          <%= f.text_field :enterprise_id, id: :item_enterprise_id, class: "mdl-textfield__input" %>
          <%= f.hidden_field :item_enterprise_id %>
          <label for="item_enterprise_id" class="mdl-textfield__label">Empresa</label>
          <ul for="item_enterprise_id" class="mdl-menu mdl-menu--bottom-left mdl-js-menu">
            <% Enterprise.all.each do |e| %>
              <li class="mdl-menu__item"><%= e.name %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
    <div class="mdl-grid">
      <div class="mdl-cell mdl-cell--10-col"></div>
      <div class="mdl-cell mdl-cell--2-col">
        <% if item.new_record? %>
          <%= f.submit "Cadastrar", class:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored" %>
        <% else %>
          <%= f.submit "Atualizar", class:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored" %>
        <% end %>
      </div>
    </div>
  <% end %>

</div>